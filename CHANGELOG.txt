// $Id$

26-NOV-2007

-- Prevents the Domain Access option from showing on the default batch content editing page.
    domain_content_node_operations() is now path resitricted.
-- #195366 by nicholasThompson.  Adds an option to force all node links to go to a single
    source.  This may help prevent search engines from thinking that content published to
    multiple domains is spam.
-- #195439 by skizzo.  A rendering bug in Garland breaks the Domain Nav block.  Fix adds
    a very small domain_nav.css file to fix the issue.
-- #195489 by mrichar1.  Notify site admins when they fail to install Domain Prefix or Domain
    Conf correctly.  Introduces hook_domaininstall().

25-NOV-2007 (3)

-- #195256 by Martijnhaan.  Fixes error in domain_domainload().

25-NOV-2007 (2)

-- #189797 by moshub.  Allows the admin to decide if content searches should be run
    across all affiliates or just the currently active domain.
-- Allows administrators to change domain access settings as a batch process, using
    the Domain Content module.
-- Fixed error in domain_user_domainload() -- this hook is not passed by reference.    
-- Creates the beta7 release.  
-- Requires that update.php be run.
-- Returns the domain_enabling() function, which is needed.

25-NOV-2007

-- #192452 by skizzo.  Allows domains to be set to inactive.  Inactive domains can only be
    accessed by the site administrator. 
-- #192452 by skizzo.  Allows the lists of domains used in domain_block() and Domain Nav to
    be sorted according to an administrator setting.
-- #189797 by moshub.  Introduces the domain_all() grant, which allows for search and similar
    pages to grant access across all sites.

23-NOV-2007

-- #192353 by okday.  Domain Prefix fix. Allows the source table for data copying to be specified through the UI.
    Requires that update.php be run.
-- #194671 by skizzo.  Allows sorting of the domain list admin page.  Adds pagination, if needed.    

21-NOV-2007

-- Fixes logical error in domain_content.
-- Changes implementation of hook_node_access_grants() to work with OG.
-- Adds patches folder.
-- Includes hook_node_access_logic() patch.
-- Fixes error where module hooks did not pass by reference correctly.
-- #192849 by canen.  pgsql in domain_prefix_install() calls wrong table.

-- #191456 by derjochenmeyer. Removes filter_xss_admin() from hook_init.  Breaks caching and is not needed.
-- #191494 by lpirotte.  Domain Prefix does not work when a global $db_prefix is used.
-- $gid not set properly in domain_nodeapi().
-- #191570.  Removes the domain_enabling() function, which caused issues when installing other node access modules.

-- Adds a VALID boolean element to the $_domain array to allow for checking user status with
    the Domain User module.
-- #191134 inspired by derjochenmeyer .  Filters content for Domain Content so that superusers
    do not see all content on all domains.
-- #189797.  hook_url_alter() patch to the url() function to enable absolute path links when needed by the
    Domain Access module -- required for Search, MySite, and other aggregating functions.
-- #191368.  Prevent debugging output from being indexed by the search mechanism.

09-NOV-2007

-- Adds the Domain Prefix module, for advanced table prefixing options.
    The Domain Prefix module is unstable and needs testing.
-- #190605 by Martijnhaan.  UI issues related to the edit permissions and domain_editor grants.  Hides the 
    edit domain nodes permission if that feature is disabled.  Fixes issue with Domain Content showing edit links
    when the user does not have the edit grant.
-- #188826 by trailerparkopera.  The site name is not changed dynamically unless Domain Conf settings have been saved.
    This change disables the ability to edit a site name through Domain Conf, and loads the domain-specific sitename through
    domain_init().
--  Creates beta6.

05-NOV-2007

-- #188160 by skizzo.  Disabling the domain_conf module does not stop it from loading.  You must
    uninstall the module.  Added a check of the {system} table as a safety measure if users forget
    to remove the code from settings.php.
-- #188268. The domain_nav_menu lookup routine is outside of the $may_cache loop. Needs to be inside.    
-- Fixes empty form value for DOMAIN_EDITOR_RULE.
-- #188825. Error reading default node promotion settings.

29-OCT-2007 (3)

-- #187593.  Sets warning message when editing an admin form when you might be
    on the wrong domain.
-- file domain_conf/domain_conf_form.inc deprecated and removed.    

29-OCT-2007 (2)

-- #187494 by skizzo.  To change variables in the $conf array, we cannot wait for hook_init().
    These variables must be loaded dynamically from settings.php.
--  Adds file: settings_domain_conf.inc
--  Beta5 release.

29-OCT-2007

-- #187509 by skizzo.  Fixes error in domain_theme_lookup() that prevents themes from being saved.

28-OCT-2007

-- Updates README.txt

28-OCT-2007 (3)

-- Changes file domain_form.inc to domain_conf_form.inc.
-- Adds the Domain Theme module.
-- Some function documentation cleanup.
-- Beta4 release.

28-OCT-2007 (2)

-- Checked a few of the API hooks for proper functionality.

28-OCT-2007

-- Adds hook_domainload() to allow submodules to modify the $domain array.
-- Adds domain_goto($domain).  This function allows developers to pop users to the 
    correct domain.  Useful when editors must be on their specific domain to edit content.

26-OCT-2007

-- #186935.  The site_grant element of the domain array was not being set by domain_domains().
-- #186624. domain_form_alter() breaks CCK field management.
-- Adds hook_domaincron().

24-OCT-2007

-- #186153 by skizzo.  The Domain Conf module needs to be on the selected domain in order
    to load the correct setings for the form.
-- Related to the above.  After deleting a domain record, return to the root domain.    
-- #186321.  Logic error in domain_init() causes the site_grant variable to be unset, causing the
    module not to function properly.
-- #186255.  Lookup the domain data before deleting the record and firing hook_domainrecord().

19-OCT-2007

-- #184993.  Fixes menu order for domain_content.module.
-- Changes help text to indicate full path.example.com should be used.
-- Adds hook_domaingrants() to allow submodules to alter default node grants.
-- Adds hook_domainrecords() to allow submodules to alter default node access records.
-- Renames hook_domainrecord() to hook_domainupdate().
-- Adds column *scheme* to the {domain} table.  Warning: no database update provided.
-- Now allows the configuration of different URL schemes (http, https) for each domain.

15-OCT-2007

-- Finishes the Domain Content module for batch editing.
-- API updates for Domain Content.
-- Cleans up some additional redundancy.

10-OCT-2007
 
-- Shortens module names in info files.
-- Cleans up some redundant functions.

09-OCT-2007

-- Adds the Domain Nav module, which generates a block of navigation links.
-- Adds the Domain Content module, for batch editing domain-specific content.
-- Adds several new helper functions.
-- Corrects use of variable_del() to reset variables during the domain_disable() function.
-- Changes domain_list() to domain_view().
-- Cleans up documentation style and defgroups.

07-OCT-2007

-- Cleans up API documentation file.

06-OCT-2007

-- Removes deprecated file settings.inc from domain_conf.
-- Creates API documentation at http://therickards.com/api/Domain.

05-OCT-2007

-- Cleans up README errors.
-- Introduces internal hooks for settings links -- hook_domainlinks(), to be used by submodules to
    add links to admin/build/domain/list.
-- Moves the domain access element of the user form into a fieldset.    

04-OCT-2007

-- Adds pgsql install to domain_conf module.
-- Puts node edit form elements into a collapsible group.
-- Finishes initial README.
-- Adds DOMAIN_INSTALL_RULE and DOMAIN_EDITOR_RULE to enable custom behavior when the
    module is initially enabled.  See the README.

03-OCT-2007

-- #180514.  Changes the module to recognize fully-qualified domain names instead of subdomains.
    Doing so increases the flexibility of the module.  However, single-sign on across mutliple domains
    is not yet supported.
-- Changes the default menu item for the settings page.
-- Changes the module name to Domain Access.

02-OCT-2007

-- Moves the domain_conf routine out of settings.php and into hook_init().  This idea, taken from
    the Multidomain module, makes it easier to use the Domain Manager module.

01-OCT-2007

-- Initial commit of the Domain Manager module. This module provides a lightwieght set of tools for
    creating and managing a network of affiliates sites.  The sites run on subdomains of a master domain.
    A single Drupal installation and database are required.  The module uses hook_node_access() to determine
    how content should be presented.  Originally developed for www.skirt.com, the module was introduced
    at DrupalCON Barcelona.
    
/**
 * @file
 * Changelog file.
 */
    